<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript">
	function validacion() {

		return comprobarPass() && comprobarEmail() && comprobarTelefono();
	}
	
	function comprobarPass() {
		var pass = document.getElementById("password").value;
		var passRepetida = document.getElementById("repetirPass").value;
		
		if (pass.length < 6) {
			alert("La contraseña debe tener al menos seis digitos!");
			return false;
		}
		
		if (pass != passRepetida) {
			alert("La contraseña repetida debe coincidir con la contraseña!");
			return false;
		}
		return true;
	}
	
	function comprobarEmail() {
		var email = document.getElementById("email").value;
		
		if (email.includes("@") && email.includes(".")) {
			return true;
		}
		alert("El email debe contener los simbolos '@' y '.'!");
		return false;
	}
	
	function comprobarTelefono() {
		var telefono = document.getElementById("telefono").value;
		
		if (isNaN(telefono)) {
			alert("El telefono debe ser numerico!");
			return false;
		}
		
		if (telefono.startsWith("6") || telefono.startsWith("9")) {
			return true;
		}
		alert("El numero debe empezar con el digito 6 o 9!");
		return false;
	}
</script>
</head>
<body>
<div class="container">
	<h1>Alta de contacto</h1>
	<form action="Controller?option=doRegistrar" method="post" onsubmit="return validacion();">
		<div class="form-group">
			<label>Usuario:</label><input type="text" name="usuario" class="form-control" style="width:30%" required="required" placeholder="Usuario" />
		</div>
		<div class="form-group">
			<label>Contraseña:</label><input type="password" id="password" name="password" class="form-control" required="required" style="width:30%" placeholder="password" />
		</div>
		<div class="form-group">
			<label>Repetir contraseña:</label><input type="password" id="repetirPass" name="repetirPass" class="form-control" style="width:30%" placeholder="Repetir password"/>
		</div>
		<div class="form-group">
			<label>Email:</label><input type="text" id="email" name="email" class="form-control" style="width:30%" placeholder="Email"/>
		</div>
		<div class="form-group">
			<label>Teléfono:</label><input type="number" id="telefono" name="telefono" class="form-control" style="width:30%" placeholder="telefono"/>
		</div>
		<button type="submit" class="btn btn-default">Registrar</button>
		
	</form>
	<br/><br/>
</div>
<a href="Controller?option=toSalir">Volver</a>
</html>